---
import BaseLayout from '../layouts/BaseLayout.astro';
import { categories } from '../data/categories';
import HowToOrderModal from '../components/HowToOrderModal.svelte';
import '../styles/shop.css';

const whatsappNumber = "237670358551";
---

<BaseLayout title="Shop - American Select">
  <section class="shop-header section" style="background: var(--bg-light);">
    <div class="container">
      <h1>Shop Our Products</h1>
      <p>Quality goods imported from USA and Canada - Order via WhatsApp</p>
    </div>
  </section>

  <section class="shop-content section">
    <div class="container">
      <!-- How to Order Modal (Svelte Component with Tailwind CSS) -->
      <HowToOrderModal client:load />

      <!-- Category Navigation -->
      <nav class="category-nav">
        <div class="category-nav-scroll">
          {categories.map((category) => (
            <a href={`#${category.id}`} class="category-nav-link">
              <span class="category-nav-icon">{category.icon}</span>
              <span class="category-nav-text">{category.name}</span>
            </a>
          ))}
        </div>
      </nav>

      {categories.map((category) => (
        <div class="category-section" id={category.id}>
          <div class="category-header">
            <span class="category-icon-large">{category.icon}</span>
            <div>
              <h2>{category.name}</h2>
              <p>{category.description}</p>
            </div>
          </div>
          <div class="products-grid">
            {category.items.map((item) => (
              <div class="product-item">
                <div class="product-info">
                  <h4>{item}</h4>
                  <p class="product-note">Available - Imported from USA/Canada</p>
                </div>
                <a
                  href={`https://wa.me/${whatsappNumber}?text=${encodeURIComponent(`Hi, I'm interested in ordering: ${item}\n\nPlease let me know the price and availability.`)}`}
                  target="_blank"
                  rel="noopener noreferrer"
                  class="btn btn-small btn-whatsapp">
                  Order via WhatsApp
                </a>
              </div>
            ))}
          </div>
        </div>
      ))}
    </div>
  </section>

  <section class="shop-cta section" style="background: var(--primary-color); color: white;">
    <div class="container" style="text-align: center;">
      <h2 style="color: white; margin-bottom: 1rem;">Can't Find What You're Looking For?</h2>
      <p style="margin-bottom: 2rem; font-size: 1.1rem;">Contact us and we'll help you find it or add it to our next shipment</p>
      <a
        href={`https://wa.me/${whatsappNumber}?text=${encodeURIComponent("Hi, I'm looking for a product that's not on your website. Can you help me?")}`}
        target="_blank"
        rel="noopener noreferrer"
        class="btn"
        style="background: white; color: var(--primary-color);">
        Request a Product
      </a>
    </div>
  </section>
</BaseLayout>
