---
import BaseLayout from '../layouts/BaseLayout.astro';
import { categories } from '../data/categories';
import HowToOrderModal from '../components/HowToOrderModal.svelte';
import ShopFilter from '../components/ShopFilter.svelte';
import InquiryBasket from '../components/InquiryBasket.svelte';
import '../styles/shop.css';

const whatsappNumber = "237670358551";
---

<BaseLayout title="Shop - American Select Market">
  <section class="shop-header">
    <div class="shop-header-bg" style="background-image: url('https://images.unsplash.com/photo-1556742049-0cfed4f6a45d?w=1920&h=600&fit=crop');"></div>
    <div class="shop-header-overlay"></div>
    <div class="container shop-header-content">
      <h1>Shop Our Products</h1>
      <p>Quality goods imported from USA and Canada - Order via WhatsApp</p>
    </div>
  </section>

  <section class="shop-content section">
    <div class="container">
      <!-- How to Order Modal (Svelte Component) -->
      <HowToOrderModal client:load />

      <!-- Category Filter & Products (Svelte Component) -->
      <ShopFilter
        client:load
        categories={categories}
        whatsappNumber={whatsappNumber}
      />

      <!-- Inquiry Basket (Floating) -->
      <InquiryBasket
        client:load
        whatsappNumber={whatsappNumber}
      />
    </div>
  </section>

  <section class="shop-cta section" style="background: var(--primary-color); color: white;">
    <div class="container" style="text-align: center;">
      <h2 style="color: white; margin-bottom: 1rem;">Can't Find What You're Looking For?</h2>
      <p style="margin-bottom: 2rem; font-size: 1.1rem;">Contact us and we'll help you find it or add it to our next shipment</p>
      <a
        href={`https://wa.me/${whatsappNumber}?text=${encodeURIComponent("Hi, I'm looking for a product that's not on your website. Can you help me?")}`}
        target="_blank"
        rel="noopener noreferrer"
        class="btn"
        style="background: white; color: var(--primary-color);">
        Request a Product
      </a>
    </div>
  </section>
</BaseLayout>
